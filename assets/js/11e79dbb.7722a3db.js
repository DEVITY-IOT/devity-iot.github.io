"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[291],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>m});var i=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=i.createContext({}),l=function(e){var t=i.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=l(e.components);return i.createElement(s.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},h=i.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),d=l(r),h=n,m=d["".concat(s,".").concat(h)]||d[h]||p[h]||a;return r?i.createElement(m,o(o({ref:t},u),{},{components:r})):i.createElement(m,o({ref:t},u))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,o=new Array(a);o[0]=h;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c[d]="string"==typeof e?e:n,o[1]=c;for(var l=2;l<a;l++)o[l]=r[l];return i.createElement.apply(null,o)}return i.createElement.apply(null,r)}h.displayName="MDXCreateElement"},3325:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var i=r(7462),n=(r(7294),r(3905));const a={sidebar_position:3,sidebar_label:"Data Hub",title:"Data Hub"},o=void 0,c={unversionedId:"reference/data-hub",id:"reference/data-hub",title:"Data Hub",description:"A Data Hub is an information collector (related to messaging protocol), which helps the device to connect to the cloud. It is required to be configured when the device needs to send telemetry data using MQTT. It enables you to select the cloud, like ThingsBoard, Azure, or AWS. The device\u2019s telemetry data will then be transmitted to the chosen cloud. It gathers required MQTT-related details, including:",source:"@site/docs/reference/data-hub.md",sourceDirName:"reference",slug:"/reference/data-hub",permalink:"/reference/data-hub",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,sidebar_label:"Data Hub",title:"Data Hub"},sidebar:"tutorialSidebar",previous:{title:"Device Properties",permalink:"/reference/device-properties"},next:{title:"Change Data Hub",permalink:"/reference/change-datahub"}},s={},l=[{value:"What is MQTT?",id:"what-is-mqtt",level:3},{value:"MQTT Broker URL",id:"mqtt-broker-url",level:3},{value:"MQTT Topic",id:"mqtt-topic",level:3},{value:"Certificate Authority",id:"certificate-authority",level:3},{value:"Trust Anchor",id:"trust-anchor",level:3}],u={toc:l},d="wrapper";function p(e){let{components:t,...a}=e;return(0,n.kt)(d,(0,i.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"A ",(0,n.kt)("strong",{parentName:"p"},"Data Hub")," is an information collector (related to messaging protocol), which helps the device to connect to the cloud. It is required to be configured when the device needs to send telemetry data using MQTT. It enables you to select the cloud, like ThingsBoard, Azure, or AWS. The device\u2019s telemetry data will then be transmitted to the chosen cloud. It gathers required MQTT-related details, including:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"MQTT Broker URL"),(0,n.kt)("li",{parentName:"ul"},"MQTT Topic"),(0,n.kt)("li",{parentName:"ul"},"Certificate Authority"),(0,n.kt)("li",{parentName:"ul"},"Trust Anchor")),(0,n.kt)("h3",{id:"what-is-mqtt"},"What is MQTT?"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"MQTT")," is a standard messaging protocol for devices. It is preferred since it is extremely lightweight protocol, which needs minimal network bandwidth and energy for communicating the telemetry data. "),(0,n.kt)("p",null,"It is a publish-subscribe protocol, where the device publishes its data to an MQTT broker. The cloud will subscribe to the data for a specific topic. MQTT Broker will send the data to interested parties as and when it is available from the device, as shown in the below diagram."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"what-is-mqtt",src:r(4409).Z,width:"631",height:"429"})),(0,n.kt)("h3",{id:"mqtt-broker-url"},"MQTT Broker URL"),(0,n.kt)("p",null,"The device should know the MQTT Broker URL to connect to the Broker securely. Once the device successfully connects to the broker, it publishes the telemetry data. Once the URL information is entered in the Data Hub, KEYNOA makes sure to send this information to the device along with all other details like MQTT Topic, CA, Trust Anchor, etc. "),(0,n.kt)("h3",{id:"mqtt-topic"},"MQTT Topic"),(0,n.kt)("p",null,"In the MQTT publish-subscribe model, the device sends telemetry data for specific topics, while subscribers can subscribe to those topics to receive the data. A topic consists of one or more levels, separated by a forward slash."),(0,n.kt)("admonition",{title:"Example",type:"note"},(0,n.kt)("p",{parentName:"admonition"},"For example, ",(0,n.kt)("inlineCode",{parentName:"p"},"v1/device1/building9/floor2/room1/temperature"),". "),(0,n.kt)("p",{parentName:"admonition"},"This topic is created to share the temperature in ",(0,n.kt)("inlineCode",{parentName:"p"},"room1")," of ",(0,n.kt)("inlineCode",{parentName:"p"},"floor2")," in ",(0,n.kt)("inlineCode",{parentName:"p"},"building9")," measured by the ",(0,n.kt)("inlineCode",{parentName:"p"},"device1"),".")),(0,n.kt)("p",null,"The Data Hub collects the topic for which the device is going to publish the telemetry data.   "),(0,n.kt)("h3",{id:"certificate-authority"},"Certificate Authority"),(0,n.kt)("p",null,"By selecting the ",(0,n.kt)("strong",{parentName:"p"},"Certificate Authority"),", you can choose which CA can issue a certificate to the MQTT application running on the device. This application certificate will then be used to securely connect to the cloud before starting to send the telemetry data."),(0,n.kt)("h3",{id:"trust-anchor"},"Trust Anchor"),(0,n.kt)("p",null,"Having a Trust Anchor (private CA) allows you to protect and manage the resources in-house. For instance, utilizing an AWS private CA offers protection for resources such as servers and applications. However, it is crucial to share CA details with the device."),(0,n.kt)("p",null,"When creating a Data Hub, providing a ",(0,n.kt)("strong",{parentName:"p"},"Trust Anchor")," certificate enables the device to access the specifics of your private CA. This certificate serves the purpose of authenticating cloud certificates, establishing a secure connection between the device and the cloud."),(0,n.kt)("p",null,"You want to switch your device between clouds? It is possible! Check how it works ",(0,n.kt)("a",{parentName:"p",href:"/reference/change-datahub"},"here.")),(0,n.kt)("p",null,"To dive deeper into understanding the concepts of CA and Trust Anchor, please refer to ","[Certificate Authority]"," and ","[Trust Anchor]"," for detailed information."),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.pdf"},"Deep Dive MQTT")))}p.isMDXComponent=!0},4409:(e,t,r)=>{r.d(t,{Z:()=>i});const i=r.p+"assets/images/MQTT-3e50674cda3e2262813789ddf6035130.png"}}]);