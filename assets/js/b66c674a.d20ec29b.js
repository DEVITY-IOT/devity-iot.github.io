"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[900],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),c=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(a),h=n,m=u["".concat(s,".").concat(h)]||u[h]||d[h]||i;return a?r.createElement(m,o(o({ref:t},p),{},{components:a})):r.createElement(m,o({ref:t},p))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var c=2;c<i;c++)o[c]=a[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},7323:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=a(7462),n=(a(7294),a(3905));const i={sidebar_position:2},o="KEYNOA Setup",l={unversionedId:"IoT Use Cases/Thingsboard - Rule Engine/KEYNOA",id:"IoT Use Cases/Thingsboard - Rule Engine/KEYNOA",title:"KEYNOA Setup",description:"First, you start by configuring the device with the KEYNOA cloud. Do not power on the device before you have completed the configuration process.  If you already used the device before make sure to reset the device.",source:"@site/docs/IoT Use Cases/Thingsboard - Rule Engine/KEYNOA.md",sourceDirName:"IoT Use Cases/Thingsboard - Rule Engine",slug:"/IoT Use Cases/Thingsboard - Rule Engine/KEYNOA",permalink:"/IoT Use Cases/Thingsboard - Rule Engine/KEYNOA",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Prerequisites and General Information",permalink:"/IoT Use Cases/Thingsboard - Rule Engine/prerequisites"},next:{title:"Thingsboard Setup",permalink:"/IoT Use Cases/Thingsboard - Rule Engine/Thingsboard"}},s={},c=[{value:"Create Data Hub",id:"create-data-hub",level:2},{value:"Create Template",id:"create-template",level:2},{value:"Upload Voucher",id:"upload-voucher",level:2}],p={toc:c};function d(e){let{components:t,...i}=e;return(0,n.kt)("wrapper",(0,r.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"keynoa-setup"},"KEYNOA Setup"),(0,n.kt)("p",null,"First, you start by configuring the device with the KEYNOA cloud. Do not power on the device before you have completed the configuration process.  If you already used the device before make sure to ",(0,n.kt)("a",{parentName:"p",href:"../../Eval%20Kit/Prerequsites%20and%20General%20Information#reset-device"},"reset the device"),"."),(0,n.kt)("h2",{id:"create-data-hub"},"Create Data Hub"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"In the KEYNOA Cloud create the Data Hub you want your device to connect to.\n",(0,n.kt)("img",{alt:"KEYNOA",src:a(9532).Z,width:"1920",height:"1090"})," ")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Select the Thingsboard data hub.\n",(0,n.kt)("img",{alt:"KEYNOA",src:a(249).Z,width:"1920",height:"1089"}))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Fill in the details of your Thingsboard instance:"))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'Connector Name ("your_thingsboard") \nThingsboard Provider (select "Custom Provider" from the dropdown)\nMQTT Broker URL (leave the default "ssl://thingsboard.devity.eu:8883")\nTopic ("v1/devices/me/telemetry")\nProvision Key (see step 4)\nProvision Secret (see step 4)\nCertificate Authority (select "KEYNOA-CLOUD INT CA2 MQTT v1" from the dropdown)\n')),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"KEYNOA",src:a(5566).Z,width:"1920",height:"1091"})),(0,n.kt)("ol",{start:4},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Log in to the ",(0,n.kt)("a",{parentName:"p",href:"https://thingsboard.cloud/login"},"Thingsboard Cloud")," with the credentials you find in the KEYNOA credential manager (just click on the lock icon in the header of KEYNOA Cloud). The provision key and secret can be found in the Thingsboard device profile you want your device to be assigned to.\n",(0,n.kt)("img",{alt:"KEYNOA",src:a(8618).Z,width:"1808",height:"952"}))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},'If you do not have a device profile yet, create one. Click on "Device profiles" and select "Create new device profile".\n',(0,n.kt)("img",{alt:"KEYNOA",src:a(8978).Z,width:"1808",height:"952"}))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},'Fill in the details, then click on "Next: Transport configuration".'))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'Name ("Eval-Kit device profile")\nRule chain ("Root Rule Chain")\n')),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"KEYNOA",src:a(1637).Z,width:"805",height:"775"})),(0,n.kt)("ol",{start:7},(0,n.kt)("li",{parentName:"ol"},'Select the Transport type and click on "Next: Alarm rules".')),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'Transport type ("MQTT")\n')),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"KEYNOA",src:a(7793).Z,width:"987",height:"777"})),(0,n.kt)("ol",{start:8},(0,n.kt)("li",{parentName:"ol"},'Click on "Next: Device provisioning". Select the device provisioning type, here the device credentials are also displayed. Click on "Add".')),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'Provisioning strategy ("Allow to create new devices")\n')),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"KEYNOA",src:a(519).Z,width:"985",height:"771"})),(0,n.kt)("ol",{start:9},(0,n.kt)("li",{parentName:"ol"},'Click on "Create".')),(0,n.kt)("h2",{id:"create-template"},"Create Template"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},'Create the MQTT template that assigns your device to the Data Hub.\nUse the Create button and click on "MQTT template".\n',(0,n.kt)("img",{alt:"KEYNOA",src:a(9532).Z,width:"1920",height:"1090"}))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},'Select your Data Hub. Click on "Next".\n',(0,n.kt)("img",{alt:"KEYNOA",src:a(4303).Z,width:"1920",height:"1088"}))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Fill in the device details:"))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'Device Property ("Device Model")\nyour-device-model-number ("sy-epc-rpi30")\n')),(0,n.kt)("p",null,'These properties will be matched against the information the device provides about itself during the onboarding process. If it matches the template, the template will be selected to configure the device. Click on "Next".'),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"KEYNOA",src:a(9673).Z,width:"1919",height:"1091"})),(0,n.kt)("ol",{start:4},(0,n.kt)("li",{parentName:"ol"},"Give the template an identifier.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'Identifier Name ("Thingsboard MQTT template")\n')),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"KEYNOA",src:a(1596).Z,width:"1919",height:"1089"})),(0,n.kt)("ol",{start:5},(0,n.kt)("li",{parentName:"ol"},'Click on "Save".')),(0,n.kt)("h2",{id:"upload-voucher"},"Upload Voucher"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"You have now created the setup for your device to be onboarded. Now upload the received voucher to KEYNOA.\n",(0,n.kt)("img",{alt:"KEYNOA",src:a(6563).Z,width:"1920",height:"1089"}))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Select the voucher via the file selector.\n",(0,n.kt)("img",{alt:"KEYNOA",src:a(1227).Z,width:"1920",height:"1091"}))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},'After that go to the devives tab and wait until the TO0 Status of your device says "completed".\n',(0,n.kt)("img",{alt:"KEYNOA",src:a(3541).Z,width:"1919",height:"1090"}))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Your device is now ready to be onboarded. Power on the device to complete the onboaridng process. After that continue with the setup in Thingsboard."))))}d.isMDXComponent=!0},9532:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/Dashboard-c2c2e2492e4a3b2f7e847928b134882b.png"},9673:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/MQTT-template-2-a92479540976a79b821ca9e3c4ebfb72.png"},1596:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/MQTT-template-3-f909ee929cc85684ad712bfb63984f3d.png"},3541:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/TO0-be9c429bf759e57f63ff5e940aff950f.png"},5566:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/Data-Hub-details-a4a3f4a797cccfa5cd263deb81330e61.png"},249:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/Data-Hub-517d23a25c59b38185d0c39dd4561118.png"},8618:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/Device-Credentials-a4c782efcb3260a2ddfbc783b3b23711.png"},1637:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/Device-profile-add-1ea8eb9e9da38bf03b077dfaa69de4ab.png"},519:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/Device-profile-provisioning-aeb21079ad683051f36d6c6d4a1842b6.png"},7793:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/Device-profile-transport-76949f4a2a67fb2fa44986ff8c57a5ed.png"},8978:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/Device-profiles-a647045a032095aab80286125df76b2a.png"},4303:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/MQTT-template-1-fd453cb690f6ffd6b50feec071464747.png"},1227:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/upload-voucher-2-3c9a044ee9e86d806de09211fdc2b11b.png"},6563:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/upload-voucher-6827a94c77ea9c5d191738d04fcee746.png"}}]);