<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tutorial/Thingsboard - Rule Engine/KEYNOA">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">KEYNOA Setup | DEVITY Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://devity-iot.github.io/tutorial/Thingsboard - Rule Engine/KEYNOA"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="KEYNOA Setup | DEVITY Documentation"><meta data-rh="true" name="description" content="In this step, you will configure KEYNOA to connect your device to your ThingsBoard account."><meta data-rh="true" property="og:description" content="In this step, you will configure KEYNOA to connect your device to your ThingsBoard account."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://devity-iot.github.io/tutorial/Thingsboard - Rule Engine/KEYNOA"><link data-rh="true" rel="alternate" href="https://devity-iot.github.io/tutorial/Thingsboard - Rule Engine/KEYNOA" hreflang="en"><link data-rh="true" rel="alternate" href="https://devity-iot.github.io/tutorial/Thingsboard - Rule Engine/KEYNOA" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.b679c9a0.css">
<link rel="preload" href="/assets/js/runtime~main.56e353e8.js" as="script">
<link rel="preload" href="/assets/js/main.a33a57be.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/DEVITY_just Logo.png" alt="DEVITY Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/DEVITY_just Logo.png" alt="DEVITY Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">DEVITY</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="mailto:support@devity.eu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">support@devity.eu<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://devity.eu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">devity.eu<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">KEYNOA</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/keynoa-eval-kit">KEYNOA Evaluation Kit</a><button aria-label="Toggle the collapsible sidebar category &#x27;KEYNOA Evaluation Kit&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/tutorial/">Tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorial/Prerequsites">Prerequisites</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/tutorial/Thingsboard - Rule Engine/prerequisites">Thingsboard - Rule Engine</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorial/Thingsboard - Rule Engine/prerequisites">About ThingsBoard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tutorial/Thingsboard - Rule Engine/KEYNOA">KEYNOA Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorial/Thingsboard - Rule Engine/Thingsboard">ThingsBoard Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorial/Thingsboard - Rule Engine/next steps">Next Steps</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/tutorial/Azure - Telemetric Rules/prerequisites">Azure - Telemetric Rules</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/tutorial/AWS/prerequsites">AWS - Data Visualization</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/reference/device-properties">Reference</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/faq">FAQ</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/tutorial/"><span itemprop="name">Tutorial</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Thingsboard - Rule Engine</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">KEYNOA Setup</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>KEYNOA Setup</h1><p>In this step, you will configure KEYNOA to connect your device to your ThingsBoard account.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="before-you-start">Before you start<a href="#before-you-start" class="hash-link" aria-label="Direct link to Before you start" title="Direct link to Before you start">​</a></h2><p>Before you start, make sure that you fulfill all <a href="/tutorial/Prerequsites">prerequisites</a>.</p><p>If you already used the device before, make sure to <a href="/reference/reset-device">reset the device</a> and <a href="/reference/mqtt-template#remove-mqtt-template">remove any MQTT templates</a> from the list.</p><p>In the following steps the device configuration is applied to KEYNOA and not to the device.
Hence, the <strong>device is powered off</strong> until KEYNOA is ready.
The device will be turned on in the end of this guide.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>For a specific application like MQTT only a single template can be applied.
If multiple MQTT Templates exist, the newer template will be ignored. Hence your new template referring to a new data hub will not be used because another template is already applied.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-data-hub">Create Data Hub<a href="#create-data-hub" class="hash-link" aria-label="Direct link to Create Data Hub" title="Direct link to Create Data Hub">​</a></h2><ol><li>In KEYNOA &quot;Create&quot; the Data Hub you want your device to connect to.
<img loading="lazy" alt="KEYNOA" src="/assets/images/Dashboard-8b32d05c90b46c3c71a18aff5c228127.png" width="1836" height="931" class="img_ev3q"> </li></ol><ol start="2"><li><p>Select the ThingsBoard Data Hub.
<img loading="lazy" alt="KEYNOA" src="/assets/images/SelectDataHub-215989515c1ea1936f2746f5f8680a64.png" width="1846" height="1011" class="img_ev3q"></p></li><li><p>Fill in the details of your ThingsBoard instance as shown below and click on &quot;Create&quot;.</p></li></ol><ul><li>Connector Name: <code>your_thingsboard</code> (choose a name)</li><li>ThingsBoard Provider: Select <code>Custom Provider</code> from the dropdown to define your own ThingsBoard instance.</li><li>MQTT Broker URL: Copy the following URL <code>ssl://thingsboard.devity.eu:8883</code> and paste it in the respective field.</li><li>Topic: Use the default <code>v1/devices/me/telemetry</code></li><li>Provision Key: To get the Provisioning Key you need to continue the tutorial and execute step 4 (4a and 4b).</li><li>Provision Secret: To get the Provisioning Secret you need to continue the tutorial and execute step 4 (4a and 4b).</li><li>Certificate Authority: Select <code>KEYNOA-CLOUD INT CA2 MQTT v1</code> from the dropdown or follow step 5 to create a new CA.</li><li>Trust Anchor: Select the <code>KEYNOA CLOUD ROOT v1</code> which issues the TLS server certificate for <code>thingsboard.devity.eu:8883</code> Data Hub. To add a new Trust Anchor, follow step 6.</li></ul><p><img loading="lazy" alt="KEYNOA" src="/assets/images/DatahubProvisionKey-4904c37d8587b42b8e2accd2227bb2a0.png" width="1846" height="1011" class="img_ev3q"></p><ol start="4"><li>Log in to <a href="https://thingsboard.devity.eu/login" target="_blank" rel="noopener noreferrer">ThingsBoard</a> with the credentials you find in KEYNOA (just click on the lock icon in the header of KEYNOA). The Provision Key and Secret can be found in ThingsBoard in an already existing device profile (see step 4a). Otherwise you first need to create a device profile (see 4b). <img loading="lazy" alt="KEYNOA" src="/assets/images/Keynoa_Credential_manager-b87cb4cb0730b660b661a53028d3a6ef.png" width="1845" height="1008" class="img_ev3q"></li></ol><p>4a. Select &quot;Device Profiles&quot; on the left menu, which displays the available device profile(s). Click on the device of interest from the displayed device(s). &quot;Device Provisioning&quot; shows the <code>Provision device key</code> and <code>Provision device secret</code>. Use these values in Step-3 to create a ThingsBoard Data Hub.</p><p><img loading="lazy" alt="KEYNOA" src="/assets/images/Device-Credentials-56331b88ac23bfca26bd41497863f91d.png" width="1808" height="952" class="img_ev3q"></p><p>4b-1. If your device profile does not exist, you should create one. Click on &quot;Device profiles&quot; on the left menu and select &quot;Create new device profile&quot;.
<img loading="lazy" alt="KEYNOA" src="/assets/images/Device-profiles-47fc17226cbad56ffe799dd796cb04b7.png" width="1808" height="952" class="img_ev3q"></p><p>4b-2. Fill in the details, then click on &quot;Next: Transport configuration&quot;.</p><ul><li>Name: <code>Eval-Kit device profile</code></li><li>Rule chain: <code>Root Rule Chain</code></li><li>Next two options can be left unchanged.</li></ul><p><img loading="lazy" alt="KEYNOA" src="/assets/images/Device-profile-add-e407a35d0b6800f1bc35de44dccfa206.png" width="807" height="769" class="img_ev3q"></p><p>4b-3. Select the Transport type and click on &quot;Next: Alarm rules&quot;. Leave default values for &quot;MQTT device topic filters&quot;.</p><ul><li>Transport type: <code>MQTT</code></li></ul><p><img loading="lazy" alt="KEYNOA" src="/assets/images/Device-profile-transport-135ea38e6399c83fce2065b3dc9b4bfa.png" width="982" height="772" class="img_ev3q"></p><p>4b-4. Configuring &quot;Alarm rules&quot; can be skipped. Click on &quot;Next: Device provisioning&quot;.</p><p><img loading="lazy" alt="KEYNOA" src="/assets/images/Add-alarm-rule-ec1516d20c2aced102ca68f07f469d35.png" width="988" height="774" class="img_ev3q"></p><p>4b-5. Set the Provision strategy. The credentials <code>Provision device key</code> and <code>Provision device secret</code> shown here are used in Step-3 to create a new ThingsBoard Data Hub. Click on &quot;Add&quot;. Use these values in Step 3 to create a ThingsBoard Data Hub.</p><ul><li>Provision strategy: <code>Allow to create new devices</code></li></ul><p><img loading="lazy" alt="KEYNOA" src="/assets/images/Device-provisioning-b3f456562d8f0d183cd0f015838a1dc0.png" width="984" height="773" class="img_ev3q"></p><ol start="5"><li>To add a new &quot;Certificate Authority&quot; click on &quot;Add Certificate&quot;.</li></ol><p><img loading="lazy" alt="KEYNOA" src="/assets/images/AddCert-b496321bb843d5b4f9b1924de0b16ded.png" width="1847" height="1011" class="img_ev3q"></p><p>You can also add a new CA from &quot;Create&quot; button on top right corner.</p><p><img loading="lazy" alt="KEYNOA" src="/assets/images/Thingsboard_AddNewCA-25f6ad3d5e2cb3d402b069491bfb9d9c.bin" width="1844" height="1011" class="img_ev3q"></p><p>5a-1. Choose your level of expertise to create a new CA.</p><p><img loading="lazy" alt="KEYNOA" src="/assets/images/LevelOfExperience-970164bc5d5fef9ec70d424aa096e448.png" width="1845" height="1012" class="img_ev3q"></p><p>5a-2. Choose &quot;CA Type&quot; <code>Internal CA</code> and provide a &quot;CA Name&quot;. CA name could be any text to identify the correct CA.</p><p><img loading="lazy" alt="KEYNOA" src="/assets/images/ChooseCAName-005638c7584457f9c13e64e8f28c8a97.png" width="1849" height="1015" class="img_ev3q"></p><p>5a-3. Basic details of CA are auto loaded. The fields can be modified to suit the CA. </p><p><img loading="lazy" alt="KEYNOA" src="/assets/images/CABasicDetails-d802fed68d12a137cd4f5ece648a5b87.png" width="1849" height="1013" class="img_ev3q"></p><p>5a-4. The values in &quot;Issuer Details&quot; determine the device&#x27;s certificate content when a device is provisioned later.
Select MQTT in the dropdown <code>Load default values for</code> to load the default issuer configuration for an MQTT use case.
Fields are autofilled with relevant values, but can be modified.
The content <code>$(serial)</code>in the field <code>Serial Number</code> and <code>Common Name</code> states that the Common Name field in the certificate will contain the serial number of the respective device.
Click on &quot;Submit&quot; to create a new CA.</p><p><img loading="lazy" alt="KEYNOA" src="/assets/images/IssuerDetails-92b00d1cc744642326ee3f76403a8260.png" width="1847" height="1010" class="img_ev3q"></p><p>5a-5. Click &quot;Close&quot; to finish creating a new CA.</p><p><img loading="lazy" alt="KEYNOA" src="/assets/images/CACreated-d4e5d6e853ca1acd3edef613d99cc0cd.png" width="1848" height="1024" class="img_ev3q"></p><p>5a-6. The newly created CA is listed under <code>Certificate Authorities</code>. This can be now used to create the Data Hub. Now the Data Hub can be created by choosing the newly created CA.</p><p><img loading="lazy" alt="KEYNOA" src="/assets/images/NewCAListed-2a6ed8fb7d0561c57665966bdd4dab33.png" width="1844" height="1017" class="img_ev3q"></p><ol start="6"><li>To add a new &quot;Trust Anchor&quot;, click on &quot;Create&quot; and choose &quot;Trust Anchor&quot;.</li></ol><p><img loading="lazy" alt="KEYNOA" src="/assets/images/CreateNewTrustAnchor-a2a653e9572ee8e5857b97eee85d101b.png" width="1823" height="786" class="img_ev3q"></p><p>6a-1. Upload the Trust Anchor certificate by clicking on &quot;Choose File&quot;.</p><p><img loading="lazy" alt="KEYNOA" src="/assets/images/AddTrustAnchor-26f5064255c44f09847f56b52a26ce36.png" width="1846" height="1007" class="img_ev3q"></p><p>6a-2. Once upload is successfull, it is listed under &quot;Trust Anchor&quot; side menu. This can be selected to create the Data Hub.</p><p><img loading="lazy" alt="KEYNOA" src="/assets/images/TrustAnchorUploadProgress-87c3bf1fa3edf261f8876e0d2f22259f.png" width="1843" height="1011" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-template">Create Template<a href="#create-template" class="hash-link" aria-label="Direct link to Create Template" title="Direct link to Create Template">​</a></h2><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>If you have not uploaded your voucher yet and therefore the list of all devices is empty, then <a href="/tutorial/Prerequsites#upload-voucher">upload the voucher</a> now.</p></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>If MQTT templates already exist, please delete them by clicking on the burger menu in column &quot;Action&quot; and selecting &quot;Delete&quot;.</p></div></div><ol><li><p>Create the MQTT template that assigns your device to the Data Hub.
Use the &quot;Create&quot; button and click on &quot;MQTT template&quot;.
<img loading="lazy" alt="KEYNOA" src="/assets/images/MQTTCreateTemplate-0bfb7d63665a5b7b8fba6ff03b6c84fe.png" width="1827" height="919" class="img_ev3q"></p></li><li><p>Select your Data Hub. Click on &quot;Next&quot;.
<img loading="lazy" alt="KEYNOA" src="/assets/images/MQTT1SelectDataHub-09b0bc290fd86aa395154eda75211ed6.png" width="1848" height="1004" class="img_ev3q"></p></li><li><p>Populate the &quot;Policy Configurations&quot; which will be used to create MQTT application certificate.
The Policy Configurations are autofilled from the values we put in while creating the CA.</p></li></ol><p>*<!-- -->Hover over the <code>i</code> circles for more information about each configuration. </p><p><img loading="lazy" alt="KEYNOA" src="/assets/images/MQTT2PolicyConfigurations-bc365100948653286582d6ce67f8592d.png" width="1845" height="1011" class="img_ev3q"></p><ol start="4"><li>Use the device details as shown below and click on &quot;Next&quot;.</li></ol><ul><li>Choose Device Property: <code>Device Model</code></li><li>Type in the following Device Model for your Janz Tec Eval Kit Device: <code>sy-epc-rpi30</code></li></ul><p>These properties will be matched against the information which the device provides about itself during the onboarding process. If it matches the template, the template will be used to configure the device.</p><p><img loading="lazy" alt="KEYNOA" src="/assets/images/MQTT3FilterDevices-0bac976b3673d9e82e1051a99ee6a71d.png" width="1841" height="1014" class="img_ev3q"></p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>For more information about the template concept see the <a href="/reference/mqtt-template">MQTT Templates Section</a></p></div></div><ol start="5"><li>Give the template an Identifier Name and click on &quot;Save&quot;.</li></ol><ul><li>Identifier Name: <code>Thingsboard MQTT template</code></li></ul><p><img loading="lazy" alt="KEYNOA" src="/assets/images/MQTT4TemplateID-4c8407e500574ae606991419364f4353.png" width="1845" height="1017" class="img_ev3q"></p><ol start="6"><li>You have now created the setup instruction for your device.
KEYNOA and ThingsBoard are now set up and your device is now ready for the onboarding process.</li></ol><p><img loading="lazy" alt="KEYNOA" src="/assets/images/MQTTTemplateCreated-3f530f6e699e48289ee2633b24763bbd.png" width="1842" height="1019" class="img_ev3q"></p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Connect your device to the internet via an ethernet cable and power it up.</p></div></div><ol start="7"><li>The onboarding is completed, when the device status in KEYNOA switches to <strong>provisioned</strong>. You can refresh the table by clicking the refresh button in the top right corner.</li></ol><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The onboarding including the boot process should not take longer than two minutes.</p></div></div><p><img loading="lazy" alt="KEYNOA" src="/assets/images/devices_list_refresh-f52ee84123e2670c73e42d1713bff51c.png" width="3835" height="1954" class="img_ev3q"></p><ol start="8"><li>Your device is now provisioned to ThingsBoard. Continue with the setup of ThingsBoard.</li></ol><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Check the devices section of your ThingsBoard to see the new device.</p></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tutorial/Thingsboard - Rule Engine/prerequisites"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">About ThingsBoard</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tutorial/Thingsboard - Rule Engine/Thingsboard"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ThingsBoard Setup</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#before-you-start" class="table-of-contents__link toc-highlight">Before you start</a></li><li><a href="#create-data-hub" class="table-of-contents__link toc-highlight">Create Data Hub</a></li><li><a href="#create-template" class="table-of-contents__link toc-highlight">Create Template</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Tutorial">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/faq">FAQ</a></li></ul></div><div class="col footer__col"><div class="footer__title">About us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://devity.eu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/DEVITY-IOT" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:support@devity.eu" target="_blank" rel="noopener noreferrer" class="footer__link-item">mail: support@devity.eu</a></li><li class="footer__item"><a href="tel:+495251604424" target="_blank" rel="noopener noreferrer" class="footer__link-item">tel: 05251/60-4424</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 DEVITY, Version: 0.7.0
</div></div></div></footer></div>
<script src="/assets/js/runtime~main.56e353e8.js"></script>
<script src="/assets/js/main.a33a57be.js"></script>
</body>
</html>